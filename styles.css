:root{
  --bg-start: #d4c5e0; /* old bg1 */
  --bg-mid: #c8b3d8;   /* old bg2 */
  --bg-light: #fafaff; /* old about tone (solid) */
  --muted: #8b8b8f;
  --accent1: #6f2bff;
  --accent2: #c66bff;
  --card-bg: rgba(255,255,255,0.9);
  /* Tunables for card focus/dim/glow */
  --card-focus-scale-desktop: 1.25; /* increased per request */
  --card-focus-scale-mobile: 1.12;  /* reduced so it doesn't hit edges on mobile */
  --card-dim-scale: 0.98;
  --card-dim-blur: 0px;
  --card-dim-opacity: 0.78;
  --card-glow-color: rgba(198,107,255,0.22);
  --card-glow-spread: 28px;
}

*{box-sizing:border-box}
html,body{height:100%}
html{scroll-behavior:smooth}
body{
  margin:0;
  font-family: 'Poppins', system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
  background: var(--bg-start);
  color:#1e1b22;
  -webkit-font-smoothing:antialiased;
}
body.drawing-gesture{
  touch-action:none;
}

.container{max-width:960px;margin:0 auto;padding:32px}

.section-header{padding:60px 0 40px}
.logo-img{max-width:120px;height:auto;margin-bottom:14px;border-radius:8px;display:block;margin-left:auto;margin-right:auto}
.tag{
  display:inline-block;padding:8px 14px;border-radius:20px;background:rgba(111,43,255,0.08);color:var(--accent1);font-weight:600;margin-bottom:18px;font-size:14px
}
.section-header .container{text-align:center}
.section-header h1{font-size:44px;line-height:1;margin:6px 0 18px;font-weight:800}
.section-header .highlight{color:var(--accent1);background:linear-gradient(90deg,var(--accent1),var(--accent2));-webkit-background-clip:text;background-clip:text;color:transparent}
.lead{max-width:680px;margin:0 auto 28px;color:var(--muted);font-weight:300}

.btn{background:linear-gradient(180deg,var(--accent1),var(--accent2));color:#fff;border:none;padding:18px 34px;border-radius:32px;box-shadow:0 10px 20px rgba(111,43,255,0.2);font-weight:600;cursor:pointer;font-size:16px;transition:transform .2s ease, box-shadow .2s ease}
.has-hover .btn:hover{transform:scale(1.06);box-shadow:0 14px 28px rgba(111,43,255,0.25)}
.btn:active{transform:translateY(1px)}

.partners-section{padding:30px 0 80px;background:var(--bg-mid)}
.cards{display:block}
.cards-header{margin-bottom:14px}
.cards-grid{display:grid;grid-template-columns:1fr;gap:80px}

.tier{margin-bottom:32px}
.tier-title{font-size:20px;margin:10px auto 48px;font-weight:700;text-align:center;position:relative;display:flex;align-items:center;justify-content:center;gap:16px;transform:translateX(50px)}
.tier-title::before{
  content:"";
  flex:0 0 14px;
  height:1px;
  background:rgba(30,27,34,0.18);
  margin:0 5px 0 0;
}
.tier-title::after{
  content:"";
  flex:1 1 auto;
  height:1px;
  background:rgba(30,27,34,0.18);
  margin:0 0 0 5px;
}
.tier-icon{
  width:54px;
  height:54px;
  border:none;
  border-radius:0;
  display:inline-flex;
  align-items:center;
  justify-content:center;
  background:transparent;
  overflow:visible;
  margin-left:-5px;
}
.tier-icon img{
  width:100%;
  height:100%;
  object-fit:contain;
  display:block;
}
.partner-card.gold{border:1px solid rgba(212,175,55,0.25);box-shadow:0 8px 30px rgba(212,175,55,0.1);background:linear-gradient(180deg, rgba(255,241,218,0.93), rgba(255,231,190,0.89))}
.partner-card.gold .picture-placeholder{background:linear-gradient(135deg, rgba(212,175,55,0.2), rgba(212,175,55,0.1))}

.partner-card.silver{border:1px solid rgba(192,192,192,0.18);box-shadow:0 8px 30px rgba(192,192,192,0.06);background:linear-gradient(180deg, rgba(245,245,247,0.9), rgba(240,240,245,0.85))}
.partner-card.silver .picture-placeholder{background:linear-gradient(135deg, rgba(192,192,192,0.08), rgba(192,192,192,0.04))}

/* Supporter accent */
.partner-card:not(.gold):not(.silver){background:linear-gradient(180deg, rgba(250,250,255,0.9), rgba(246,245,250,0.88));
}
.section-title{font-size:28px;margin:0 0 6px;font-weight:800}
.muted{color:var(--muted);margin-bottom:18px}

.partner-card{position:relative;display:flex;flex-direction:column;align-items:center;gap:12px;background:var(--card-bg);padding:14px;border-radius:16px;box-shadow:0 6px 16px rgba(29,23,37,0.05);border:1px solid rgba(0,0,0,0.05);transition:transform .36s cubic-bezier(.2,.9,.2,1),box-shadow .36s,filter .28s,opacity .28s;will-change:transform;min-height:220px;justify-content:flex-start;overflow:hidden;contain:layout paint;content-visibility:auto;contain-intrinsic-size:220px;aspect-ratio:1 / 1} 
.partner-card .picture-placeholder{width:100%;flex:1 1 auto;min-height:0;background:linear-gradient(135deg, rgba(111,43,255,0.08), rgba(198,107,255,0.05));border-radius:12px;display:flex;align-items:center;justify-content:center;color:var(--muted);font-size:13px;overflow:hidden}
.partner-card.bonusfarm-card .picture-placeholder{height:330px;flex:0 0 330px}
.partner-card.dzeni-card .picture-placeholder{height:385px;flex:0 0 385px}
.partner-card.dzeni-card .picture-placeholder img{object-position:center calc(100% + 15px);width:calc(100% - 4px);height:calc(100% - 4px);transform:translateY(5px)}
.partner-card.donerspot-card .picture-placeholder{height:360px;flex:0 0 360px}
.partner-card.dzeni-card{min-height:230px}
.partner-card.donerspot-card .name{margin-top:4px}
.partner-card.donerspot-card .social-links{margin-top:6px}
.partner-card.lidija-card .picture-placeholder{height:400px;flex:0 0 400px}
.avatar{display:none}
.initials{display:none}
.meta{text-align:center;width:100%;margin-top:auto}
.status{display:none}
.name{font-weight:700;font-size:20px;margin-top:4px}

.social-links{display:flex;gap:10px;justify-content:center;margin-top:8px}
.social-link{display:inline-flex;align-items:center;justify-content:center;height:46px;padding:0 16px;border-radius:12px;background:rgba(111,43,255,0.15);color:var(--accent1);text-decoration:none;font-weight:600;transition:all .2s;overflow:hidden}
.social-link.social-link-icon{width:44px;height:44px;padding:0;border-radius:50%;background:transparent;overflow:hidden;border:1px solid rgba(0,0,0,0.15)}
.social-link.social-link-instagram{width:44px;height:44px;transform:translateY(10px)}
.has-hover .social-link:hover{background:rgba(111,43,255,0.25);transform:scale(1.08)}
.social-link{transition:transform .2s ease, background .2s ease, box-shadow .2s ease}
.has-hover .social-link:hover{box-shadow:0 6px 14px rgba(0,0,0,0.15)}
.social-link img{width:34px;height:34px;object-fit:contain;display:block}
.social-link.social-link-icon img{width:100%;height:100%;object-fit:cover;display:block}
.social-link img.social-icon-facebook{width:100%;height:100%;object-fit:cover}
.social-link.social-link-dzeni{width:44px;height:44px}
.social-link img.social-icon-dzeni{width:100%;height:100%;object-fit:cover}
img[alt="Instagram"]{transform:scale(1.12)}
.social-links.dzeni-links{margin-top:3px;transform:translateY(-26px)}
.partner-card.dzeni-card .name{margin-top:1px}
.dzeni-name{transform:translateY(-10px)}

/* Text-only card (OMI-MIX): name centered, link at bottom */
.partner-card.text-only .meta{
  display:flex;
  flex-direction:column;
  height:100%;
  min-height:0;
}
.partner-card.text-only .name{
  margin:auto 0;
  font-size:min(13rem, 28vw);
  font-weight:900;
  letter-spacing:1.5px;
  text-align:center;
  width:100%;
  padding:0 6px;
}
.partner-card.text-only .name span{
  display:block;
  line-height:0.85;
}
.partner-card.text-only .social-links{
  margin-top:auto;
  padding-bottom:2px;
}

/* Mint: centered and uppercase on desktop */
.partner-card.mint-card .name{
  text-transform:uppercase;
  text-align:center;
  width:100%;
  margin-left:auto;
  margin-right:auto;
  font-size:min(11rem, 24vw);
  transform:translate(6px, -12px);
}
@media(min-width:768px){
  .partner-card.mint-card .name{
    font-size:164px;
  }
}
.partner-card.mint-card .meta{
  align-items:center;
}

/* Text-only (smaller): keep readable without clipping */
.partner-card.text-only-small .meta{
  display:flex;
  flex-direction:column;
  height:100%;
  min-height:0;
}
.partner-card.text-only-small .name{
  margin:auto 0;
  font-size:clamp(28px, 6.5vw, 64px);
  font-weight:800;
  letter-spacing:0.5px;
  text-align:center;
  width:100%;
  padding:0 10px;
  line-height:1.05;
}
.partner-card.text-only-small .social-links{
  margin-top:auto;
  padding-bottom:2px;
}

/* Text-only (large): closer to OMI MIX but for multi-word names */
.partner-card.text-only-large .meta{
  display:flex;
  flex-direction:column;
  height:100%;
  min-height:0;
}
.partner-card.text-only-large .name{
  margin:auto 0;
  font-size:min(9rem, 22vw);
  font-weight:900;
  letter-spacing:1px;
  text-align:center;
  width:100%;
  padding:0 8px;
}
.partner-card.text-only-large .name{
  transform:translateY(8px);
}
.partner-card.tokarija-card .name{
  transform:translateY(48px);
  font-size:min(9rem, 22vw);
  text-align:center;
  margin-left:auto;
  margin-right:auto;
}
.partner-card.tokarija-card .name .small{
  font-size:1.3em;
}
.partner-card.tokarija-card .meta{
  align-items:center;
}
.partner-card.text-only-large .name span{
  display:block;
  line-height:0.85;
}
.partner-card.text-only-large .name .small{
  font-size:0.5em;
  line-height:1;
}
.partner-card.text-only-large .name .lower{
  margin-top:12px;
}
.partner-card.svezadom-card .name{
  font-size:140px;
  transform:translateY(-10px);
}
.partner-card.autoservis-card .name{
  transform:translateY(23px);
}
.partner-card.autoservis-card .name .small{
  font-size:0.55em;
}
.partner-card.autoservis-card .name .lower{
  margin-top:27px;
}
.partner-card.tokarija-card .name .lower{
  margin-top:37px;
}
.partner-card.text-only-large .name .lower-soco{
  margin-top:27px;
}
.partner-card.text-only-large .social-links{
  margin-top:auto;
  padding-bottom:2px;
}

/* Osiguraj da slike partnera uvijek stanu unutar okvira */
.partner-img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  display: block;
}

/* Ensure TRAFFICON logo is fully visible */
img[alt="TRAFFICON"],
img[alt="FIDIGER"],
img[alt="SEJDIĆ COMMERCE"],
img[alt="PEPLAST"]{
  object-fit: contain;
  background: #fff;
}

/* Move Oaza image slightly to the right within its frame */
img[alt="Oaza"]{
  object-position: calc(82% + 110px) center;
}

/* Fix LIDIJA image: fill frame and center */
img[alt="LIDIJA"]{
  object-fit:cover;
  object-position:center;
}

/* Hover zoom for pointer devices (only for fine-pointer devices / desktop) */
@media (hover: hover) and (pointer: fine) {
  /* Explicit: ensure cards do NOT scale down by default on desktop */
  .cards-grid .partner-card{transform:none;opacity:1;filter:none}

  /* Only the hovered / focused card scales up — siblings remain at normal size (no shrink). */
  .has-hover .partner-card:hover,
  .partner-card:focus-visible{transform:translateY(-6px) scale(var(--card-focus-scale-desktop));box-shadow:0 28px 60px rgba(17,10,40,0.18);filter:none;opacity:1;z-index:5}

  /* Keep visible-on-scroll enhancement when IO marks visible (NO auto-scale on desktop) */
  .partner-card.visible{transform:translateY(-6px);box-shadow:0 20px 40px rgba(17,10,40,0.12);filter:none;opacity:1}

  /* Ensure keyboard focus within the grid emphasizes the focused card without shrinking siblings */
  .cards-grid:focus-within .partner-card{transition:transform .28s,filter .28s,opacity .28s}
}

/* JS-detected hover class fallback: if the browser/device misreports media queries, the JS adds
   `has-hover` to <html> so desktop hover still works. This block intentionally lives after the
   media-query rules so it can override incorrect UA behavior. */
.has-hover .partner-card:hover,
.has-hover .partner-card:focus-visible{transform:translateY(-6px) scale(var(--card-focus-scale-desktop));box-shadow:0 28px 60px rgba(17,10,40,0.18);filter:none;opacity:1;z-index:5} 

/* Mobile center-focus: .centered is used by JS to highlight the card closest to viewport center */
@media (max-width:767px){
  /* MUCH larger vertical spacing for mobile per request */
  .cards-grid{gap:140px;row-gap:160px}
  /* add extra room between tiers on mobile */
  .tier{margin-bottom:80px}
  .partner-card{padding:12px 12px;min-height:220px;border-radius:16px;transition:transform .28s cubic-bezier(.2,.9,.2,1),box-shadow .28s,filter .22s,opacity .22s}

  /* slightly reduced visual movement on focus, keep scale intact */
  .partner-card.centered{transform:translateY(-6px) scale(var(--card-focus-scale-mobile));box-shadow:0 30px 64px rgba(17,10,40,0.16), 0 0 28px var(--card-glow-color);filter:blur(0);opacity:1;border:1px solid rgba(111,43,255,0.06)}

  /* slightly larger image area to balance taller card */
  .partner-card .picture-placeholder{height:92px;border-radius:12px}
  .partner-card.bonusfarm-card .picture-placeholder{height:190px;flex:0 0 190px}
  .partner-card.dzeni-card .picture-placeholder{height:220px;flex:0 0 220px}
  .partner-card.donerspot-card .picture-placeholder{height:190px;flex:0 0 190px}
  .partner-card.donerspot-card .name{margin-top:2px}
  .partner-card.donerspot-card .social-links{margin-top:4px}
  .partner-card.lidija-card .picture-placeholder{height:240px;flex:0 0 240px}
  .name{font-size:18px}
  .partner-card.svezadom-card .name{font-size:64px;transform:translateY(-6px)}
  .partner-card.mint-card .name{transform:translate(-2px, 3px)}
  img[alt="Oaza"]{object-position: calc(82% + 25px) center;}
  .tier-title-silver .tier-text span{display:block}
  .tier-title-silver .tier-icon{width:44px;height:44px}
  .tier-title{
    width:100%;
    transform:none;
    padding:0;
    justify-content:flex-start;
    text-align:left;
  }
  .tier-title::before{
    flex:0 0 14px;
    margin:0 5px 0 0;
  }
  .tier-title::after{
    flex:1 1 auto;
    margin:0 0 0 5px;
  }

  /* minimal blur on non-centered cards so the focused one 'zablista' — DO NOT scale down */
  .partner-card:not(.centered){transform:none;box-shadow:0 6px 16px rgba(29,23,37,0.05);filter:none;opacity:0.95}

  /* Make :focus-visible behave the same on mobile (no shrinking of siblings) */
  .cards-grid:focus-within .partner-card{transform:none;filter:none;opacity:0.95}
  .partner-card:focus-visible{transform:translateY(-6px) scale(var(--card-focus-scale-mobile));filter:none;opacity:1}
  .cards-grid:focus-within .partner-card.centered{transform:translateY(-6px) scale(var(--card-focus-scale-mobile));filter:none;opacity:1}
}

/* Slower about slider on mobile */
@media (max-width:767px){
  .about-track{
    animation-duration: 120s;
  }
}

/* Subtle shimmer animation for the centered card (opt-in, respects reduced-motion) */
@keyframes card-shine{
  0%{transform:translateY(0) translateX(-4%);opacity:0.9}
  50%{transform:translateY(-2px) translateX(2%);opacity:1}
  100%{transform:translateY(0) translateX(-4%);opacity:0.9}
}

@media (max-width:767px) and (prefers-reduced-motion: no-preference){
  .partner-card.centered::after{animation:card-shine 3.2s ease-in-out infinite}
}

@media (prefers-reduced-motion: reduce){
  html{scroll-behavior:auto}
  .partner-card.centered::after{animation:none;opacity:0.7}
  .partner-card, .partner-card *{transition:none !important;transform:none !important}
}

/* Marko Jack fly-through (triggered by triple click on About section) */
.marko-jack-flyer{
  position:fixed;
  top:30%;
  left:-40vw;
  width:min(360px, 70vw);
  height:auto;
  z-index:3000;
  pointer-events:none;
  opacity:0;
  transform:translateX(0);
  filter:drop-shadow(0 18px 28px rgba(0,0,0,0.25));
}
.marko-jack-flyer.fly{
  opacity:1;
  animation:marko-jack-fly 1.8s linear forwards;
}
@keyframes marko-jack-fly{
  0%{transform:translateX(0)}
  100%{transform:translateX(160vw)}
}

/* Keyboard focus: make keyboard users see the same emphasis as hover/center */
@media (hover: hover) and (pointer: fine) {
  .partner-card:focus-visible{outline:3px solid rgba(111,43,255,0.12);outline-offset:8px;transform:translateY(-6px) scale(var(--card-focus-scale-desktop));box-shadow:0 20px 40px rgba(17,10,40,0.12)}
}
@media (max-width:767px){
  .partner-card:focus-visible{outline:3px solid rgba(111,43,255,0.12);outline-offset:8px;transform:translateY(-8px) scale(var(--card-focus-scale-mobile));box-shadow:0 24px 48px rgba(17,10,40,0.15)}
}

@media(min-width:768px){
  /* More breathing room on desktop */
  .cards-grid{grid-template-columns:repeat(2,1fr);gap:160px;column-gap:72px}
  .tier{margin-bottom:64px}
  .tier-title{margin:10px auto 96px}
  .partner-card{min-height:220px;border-radius:16px}

  .section-header h1{font-size:64px}
  .section-header{padding:100px 0}
}

@media(min-width:1100px){
  .container{max-width:1100px}
}

/* Hamburger menu */
.hamburger{position:fixed;top:16px;left:16px;z-index:1100;background:transparent;border:none;width:32px;height:32px;cursor:pointer;display:flex;flex-direction:column;justify-content:space-around;padding:0}
.hamburger span{display:block;width:100%;height:2.5px;background:var(--accent1);border-radius:2px;transition:all .3s}
.has-hover .hamburger:hover{
  background:rgba(0,0,0,0.08);
  border-radius:0;
  transform:none;
  padding:0;
  box-shadow:0 0 0 5px rgba(0,0,0,0.08);
}
.hamburger.active span:nth-child(1){transform:rotate(45deg) translate(8px, 8px)}
.hamburger.active span:nth-child(2){opacity:0}
.hamburger.active span:nth-child(3){transform:rotate(-45deg) translate(7px, -7px)}

.mobile-menu{position:fixed;top:0;left:0;width:280px;height:100vh;background:linear-gradient(180deg, rgba(255,255,255,0.98), rgba(251,248,255,0.96));z-index:1050;transform:translateX(-100%);transition:transform .35s cubic-bezier(.2,.9,.2,1);box-shadow:4px 0 20px rgba(17,10,40,0.1)}
.mobile-menu[aria-hidden="false"]{transform:translateX(0)}
.menu-list{list-style:none;margin:72px 0 0;padding:0}
.menu-list li{border-bottom:1px solid rgba(0,0,0,0.05)}
.menu-list a{display:block;padding:16px 24px;color:#1e1b22;text-decoration:none;font-weight:500;transition:background .2s}
.has-hover .menu-list a:hover{background:rgba(111,43,255,0.06);color:var(--accent1)}

/* About section */
.about-section{position:relative;padding:60px 0 80px;background:var(--bg-light);overflow:hidden;min-height:90vh}
.about-section::after{
  content:"";
  position:absolute;
  inset:0;
  background:linear-gradient(to top, rgba(45,45,45,0.35), rgba(45,45,45,0.1));
  z-index:1;
}
.about-section .container{position:relative;z-index:2}
.about-slider{
  position:absolute;
  inset:0;
  overflow:hidden;
  z-index:0;
  opacity:1;
}
.about-track{
  display:flex;
  height:100%;
  width:max-content;
  animation:about-slide-continuous 70s linear infinite;
  will-change:transform;
}
.about-track img{
  width:auto;
  height:100%;
  object-fit:contain;
  flex:0 0 auto;
  display:block;
}
.about-track img.about-img-4{transform:translateY(-20px)}
.about-section.dark-section{
  color:#f0f0f0;
  background-color:#151515;
}
.about-section.dark-section .section-title,
.about-section.dark-section .about-text,
.about-section.dark-section p{
  color:#f0f0f0;
  -webkit-text-stroke:0;
  text-shadow:none;
}
.about-text{max-width:680px;margin:0 auto 18px;line-height:1.7;font-size:16px}

@keyframes about-slide-continuous{
  0%{transform:translateX(0)}
  100%{transform:translateX(-50%)}
}
.about-text{max-width:680px;margin:0 auto 18px;color:#555;line-height:1.7;font-size:16px}

/* Modal styles */
.modal{position:fixed;inset:0;display:none;align-items:center;justify-content:center;z-index:1200}
.modal[aria-hidden="false"]{display:flex}
.modal-backdrop{position:absolute;inset:0;background:linear-gradient(180deg, rgba(16,10,24,0.45), rgba(16,10,24,0.55))}
.modal-dialog{position:relative;background:linear-gradient(180deg,#fff,#fbf8ff);max-width:520px;width:92%;border-radius:14px;padding:20px;box-shadow:0 20px 50px rgba(17,10,40,0.25);z-index:2}
.modal-close{position:absolute;right:12px;top:12px;background:transparent;border:none;font-size:32px;color:var(--accent1);cursor:pointer;padding:8px;transition:transform .3s}
.modal[aria-hidden="false"] .modal-close{transform:scale(1)}
.sponsor-form{display:flex;flex-direction:column;gap:12px}
.sponsor-form .field{display:flex;flex-direction:column;font-size:14px;color:#4b4452}
.sponsor-form input,.sponsor-form textarea,.sponsor-form select{padding:10px;border-radius:8px;border:1px solid rgba(30,27,35,0.06);font-size:14px}
.form-actions{display:flex;gap:12px;align-items:center;margin-top:8px}
.secondary{color:var(--accent1);text-decoration:none;font-weight:600}
.form-result{text-align:center;padding:18px}

/* Mobile: modal becomes full screen */
@media(max-width:640px){
  .modal-dialog{height:100%;width:100%;max-width:100%;border-radius:0;padding:20px 18px;align-self:flex-end}
  .modal{align-items:stretch}
}

/* Pulse animation for button feedback */
.pulse{animation:pulse .6s ease}
@keyframes pulse{0%{transform:translateY(0);box-shadow:0 10px 20px rgba(111,43,255,0.12)}50%{transform:translateY(-3px);box-shadow:0 16px 30px rgba(111,43,255,0.18)}100%{transform:translateY(0);box-shadow:0 10px 20px rgba(111,43,255,0.12)}}
